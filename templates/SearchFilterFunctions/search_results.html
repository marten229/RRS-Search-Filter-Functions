<!-- search_restaurants.html -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% load static %}
    <title>Search Restaurants</title>
</head>
<body>
    <h1>Search Restaurants</h1>
    <form method="get" action="{% url 'search_restaurants' %}">
        <input type="text" name="q" placeholder="Search..." value="{{ query }}">
        
        <h3>Cuisines</h3>
        {% for cuisine in all_cuisines %}
            <label>
                <input type="checkbox" name="cuisines" value="{{ cuisine.id }}"
                {% if cuisine.id|stringformat:"s" in selected_cuisines %}checked{% endif %}>
                {{ cuisine.name }}
            </label><br>
        {% endfor %}
        
        <button type="submit">Search</button>
    </form>

    <h2>Results</h2>
    <ul>
        {% for restaurant in results %}
            <li>
                <h3>{{ restaurant.name }}</h3>
                <p>{{ restaurant.description }}</p>
                <p><strong>Address:</strong> {{ restaurant.address }}</p>
                <p><strong>Contact:</strong> {{ restaurant.contact_phone }} | {{ restaurant.contact_email }}</p>
                <p><strong>Opening Hours:</strong> {{ restaurant.opening_hours }}</p>
                <p><strong>Cuisines:</strong> {{ restaurant.cuisines.all|join:", " }}</p>
                <p><strong>Menu:</strong> {{ restaurant.menu }}</p>
                {% if restaurant.photo %}
                    <img src="{% static restaurant.photo %}" alt="{{ restaurant.name }}">
                {% endif %}
            </li>
        {% empty %}
            <li>No restaurants found.</li>
        {% endfor %}
    </ul>
</body>
</html>
